---
layout: post
title: "Wicket and RSS Feeds"
date: 2007-08-23
comments: false
categories:
 - java
 - wicket
---

<div class='post'>
<p>I love Wicket, and I love RSS so it's only logical that I'd find a way to serve up RSS within Wicket.&nbsp; There's an <a href="http://cwiki.apache.org/WICKET/rss-page.html">example <code>RssPage</code> posted on the Wicket wiki</a>, and I posted a <a href="http://www.jroller.com/wireframe/entry/wicket_feedpage">simple RSS solution</a> a while back, but neither of these are really solid solutions.&nbsp; For the past few weeks I've been working heavily with serving RSS feeds, and I've finally gotten to a point where I can provide something back to the Wicket community.</p><br /><br /><p>Introducing, the <i>new</i> and <b>improved</b> Wicket <code>FeedPage</code>.&nbsp; It's actually the same API as my previous solution, but the inner workings are <i>much</i> improved.&nbsp; To create an RSS feed, just create a subclass of  <code>FeedPage</code> and follow the <a href="https://rome.dev.java.net/">ROME API</a> to create a <code>SyndFeed</code> for your RSS (or Atom) content.</p><br /><br /><pre>public class ItemFeedPage extends FeedPage &#123;<br />  protected SyndFeed getFeed() &#123;<br />    SyndFeed feed = new SyndFeedImpl();<br />    feed.setFeedType("rss_2.0");<br />    feed.setTitle("Sample Feed");<br />    feed.setLink("http://mysite.com"); <br />    feed.setDescription("Sample Feed for how cool Wicket is");<br /><br />    List&lt;SyndEntry&gt; entries = new ArrayList&lt;SyndEntry&gt;();<br />    SyndEntry entry = new SyndEntryImpl();<br />    entry.setTitle("Article One");<br />    entry.setLink("http://mysite.com/article/one");<br />    entry.setPublishedDate(new Date());<br /><br />    SyndContent description = new SyndContentImpl();<br />    description.setType("text/plain");<br />    description.setValue("Article descriping how cool wicket is.");<br />    entry.setDescription(description);<br /><br />    entries.add(entry);<br />    feed.setEntries(entries);<br />    return feed;  <br />  &#125;<br />&#125;<br /></pre><br /><br /><p>The ROME library has really impressed me and does an excellent job of hiding the internals of creating these feeds.&nbsp; Want to change from RSS to Atom?&nbsp; Simple!&nbsp; Just change this line:</p><br /><pre>feed.setFeedType("rss_2.0");</pre><br />to this<br /><pre>feed.setFeedType("atom_0.3");</pre><br /><br /><p>As Borat would say..."Very Nice!"</p><br /><br /><p>I've created a <a href="https://wicket-stuff.svn.sourceforge.net/svnroot/wicket-stuff/trunk/wicketstuff-rome/">new Wicket Stuff project</a> to host this project which should make it super easy to get up and going.&nbsp; Just add this block to your pom.xml file:</p><br /><pre><br />  &lt;repositories&gt;<br />    &lt;repository&gt;<br />      &lt;id&gt;wicket-stuff-repository&lt;/id&gt;<br />      &lt;name&gt;Wicket-Stuff Repository&lt;/name&gt;<br />      &lt;url&gt;http://www.wicketstuff.org/maven/repository/&lt;/url&gt;<br />    &lt;/repository&gt;<br />  &lt;/repositories&gt;<br /><br />  &lt;dependencies&gt;<br />    &lt;dependency&gt;<br />      &lt;groupId&gt;org.wicketstuff&lt;/groupId&gt;<br />      &lt;artifactId&gt;wicketstuff-rome&lt;/artifactId&gt;<br />      &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;<br />    &lt;/dependency&gt;<br />  &lt;/dependencies&gt;<br /></pre><br /><br /><p>As a side note, if you're having difficulty creating a dynamic url for use in your feed (guid, return url, etc) vote for <a href="https://issues.apache.org/jira/browse/WICKET-609">this Wicket issue</a> to help create a new API for that info.</p></div>
