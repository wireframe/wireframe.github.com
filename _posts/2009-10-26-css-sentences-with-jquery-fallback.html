---
layout: post
title: "CSS Sentences with jQuery fallback"
date: 2009-10-26
comments: false
categories:
 - javascript
 - jquery
 - css
---

<div class='post'>
<img src="http://farm4.static.flickr.com/3053/2971210465_6f81c903d6.jpg" /><br /><br />CSS is pretty badass and can be used to pull off a lot of unconventional tasks; even constructing <a href="http://www.jroller.com/wireframe/entry/css_sentences ">a humane sentence out of a list of elements</a>.  Unfortunately, we still live in a world of dinosaur browsers *<i>cough</i>* IE6 *<i>cough</i>* that do not support modern CSS selectors.<br /><br />This is where Javascript really shines and is the perfect technology to provide a consistent experience across all browsers.  Javascript is the glue to patch crappy browsers and bring them up to speed with the rest of the world.  Here's a component that can be used to emulate the CSS sentences as described in my earlier post.<br /><br />To review, here's my markup:<br /><pre>&lt;ul&gt;<br />  &lt;li&gt;Ryan&lt;/li&gt;<br />  &lt;li&gt;Tom&lt;/li&gt;<br />  &lt;li&gt;Bill&lt;/li&gt;<br />&lt;/ul&gt;<br /></pre><br />And here's the output I want rendered for users to see:<br />"Ryan, Tom and Bill found this interesting."<br /><br />Since we can't rely on CSS to pull this off, here's a jQuery component that adds a few extra DOM fragments to the list in order to make this work.  Invoke the plugin on your list and pass in any configuration options for the sentence:<br /><pre>$('ul').sentenceList(&#123;suffix: 'found this interesting'&#125;);<br /></pre><br /><h2>sentenceList jQuery Plugin</h2><pre>$.fn.sentenceList = function(options) &#123;<br />  return this.each(function() &#123;<br />    var list = $(this);<br /><br />    if (list.children('li').length > 0) &#123;<br />      $('&lt;li class="last_separator"&gt;and&lt;/li&gt;').\<br />        insertBefore(list.find('li:last-child').\<br />        not('li:first-child'));<br />      $('&lt;li class="separator"&gt;, &lt;/li&gt;').\<br />        insertBefore(list.find('li').not('li:first-child').\<br />        not('li:last-child').not('li.last_separator'));<br />      $('&lt;li class="suffix" /&gt;').text(options.suffix).\<br />        appendTo(list);<br />    &#125;<br />  &#125;);<br />&#125;;<br /></pre><br />This is the CSS you'll want to use to layout the sentence correctly.  It is very similar to the pure CSS Sentence solution.<br /><br /><h2>sentenceList CSS</h2><pre>/* makes the list display inline */ <br />ul &#123; list-style-type: none; margin: 0; padding: 0; display: inline; &#125;<br />ul li &#123; background: none; margin: 0; padding: 0; display: inline; &#125;<br /><br />/* add padding between sentence elements */<br />ul li.seperator &#123; padding-right: 3px; &#125;<br />ul li.last_separator &#123; padding-left: 3px; padding-right: 3px; &#125;<br />ul li.suffix &#123; padding-left: 3px; &#125;<br /></pre><br />Now, I would love for this solution to not be needed, but until the world wakes up and runs a <b><i>real</i></b> browser, here you go.</div>
