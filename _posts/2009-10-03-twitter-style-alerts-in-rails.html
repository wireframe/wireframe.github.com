---
layout: post
title: "Twitter Style Alerts In Rails"
date: 2009-10-03
comments: false
categories:
 - javascript
 - rails
 - jquery
 - css
---

<div class='post'>
<a href="http://twitter.com/">Twitter</a> has a very elegant solution for user feedback messages. &nbsp;They display the message by sliding the text down from the top of the screen in a semi-transparent block and hide the message after a few moments. &nbsp;It's a very slick design and one of the more appealing solutions I've seen (and I've worked with a <b><i>lot</i>&nbsp;</b>of feedback designs).<br /><br /><a href="http://img.skitch.com/20091003-x7i4ydi1wuk2jjxpe6kepxxre1.jpg"></a><br /><a href="http://img.skitch.com/20091003-x7i4ydi1wuk2jjxpe6kepxxre1.jpg"><img border="0" height="219" src="http://img.skitch.com/20091003-x7i4ydi1wuk2jjxpe6kepxxre1.jpg" width="420" /><br /></a><br /><br /><h2>Why this solution rocks</h2><ul><li>Feedback at the top of the screen prevents hiding important elements in the page body. &nbsp;This avoids a very common problem with alert/lightbox feedback solutions.</li><li>The blind down effect draws your attention, yet is not visually jarring. &nbsp;Apple does an excellent job with similar effects within their products.</li><li>Absolute positioning the overlay <i>above</i> the page content prevents page height popping when sliding down the alert message.</li><li>Automatically hiding the alert after a time period removes the need for a dismiss button.</li></ul><br />Apparently, Twitter rules the world and everything Twitter does needs to be copied by every other application. I've seen <a href="http://briancray.com/2009/05/06/twitter-style-alert-jquery-cs-php/">this solution ported to PHP</a>, so I figured I might as well save people time and show how to accomplish Twitter style alert messages in Rails. &nbsp;All it takes is a little SASS and jQuery and you'll be set...<br /><br /><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">See the solution in action at:<br /></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><a href="http://twitteralerts.heroku.com/">http://twitteralerts.heroku.com/</a><br /></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br /></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Code for the demo is available on github at:<br /></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><a href="http://github.com/wireframe/twitteralerts">http://github.com/wireframe/twitteralerts</a><br /></div><br />Wire up your layout to have a pretty standard container div for your alert content...<br /><pre>#app/views/layouts/application.html.haml<br />%html<br />&nbsp;&nbsp;%body<br />&nbsp;&nbsp; &nbsp;- if flash[:notice] || flash[:warning]<br />&nbsp;&nbsp; &nbsp; &nbsp;%div{:class =&gt; "alert&nbsp;&nbsp;#{'warning' if flash[:warning]}", :style =&gt; 'display: none'}<br />&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;= flash[:notice] || flash[:warning]<br />&nbsp;&nbsp; &nbsp;= yield<br /></pre><br />JQuery does all the work to show/hide the alert message.<br /><pre>//public/javascripts/jquery.alertfeedback.js<br />$(function () {<br />&nbsp; var alert = $('.alert');<br />&nbsp; if (alert.length &gt; 0) {<br />&nbsp;&nbsp;&nbsp; alert.show().animate({height: alert.outerHeight()}, 200);<br /><br />&nbsp;&nbsp;&nbsp; window.setTimeout(function() {<br />&nbsp;&nbsp; &nbsp; &nbsp;alert.slideUp();<br />&nbsp;&nbsp;&nbsp; }, 3000);<br />&nbsp; }<br />});<br /></pre><br />Some fancy CSS to make the alert messages look good.<br /><pre>//public/stylesheets/sass/application.sass<br />.alert<br />&nbsp; :overflow hidden<br />&nbsp; :z-index 999<br />&nbsp; :width 100%<br />&nbsp; :text-align center<br />&nbsp; :position absolute<br />&nbsp; :top 0<br />&nbsp; :left 0<br />&nbsp; :background-color rgb(161,195,0)<br />&nbsp; :background-color rgba(161,195,0,.8)<br />&nbsp; :height 0<br />&nbsp; :color #fff<br />&nbsp; :padding 9px 0<br />&nbsp; :text-shadow rgba(99,130,0,.75) 1px 1px 1px<br />&nbsp;&nbsp;:font-size 21px<br />&nbsp;&nbsp;&amp;.warning<br />&nbsp;&nbsp;&nbsp; :background-color #800<br /></pre></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>giovanni</div>
<div class='content'>
I use a modified version of your code in production at <a href="http://smood.it" rel="nofollow">http://smood.it</a><br />Thanks!</div>
</div>
</div>
