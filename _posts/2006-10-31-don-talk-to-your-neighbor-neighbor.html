---
layout: post
title: "Don't Talk To Your Neighbor's Neighbor"
date: 2006-10-31
comments: false
categories:
 - java
 - design
---

<div class='post'>
<p>I'll be continuing on the pattern/antipattern postings today, even though it seems that the large majority of people really missed the point of my <a href="http://jroller.com/page/wireframe/?anchor=mutating_methods">previous entry</a>.  I'll try harder to keep things simple, and avoid talking about the much loved static util <i>(anti)</i> pattern.</p><br /><br /><p><strong>Don't Talk to your Neighbor's Neighbor</strong> is an antipattern that is best demonstrated using an example.  I'll use the example of a <CODE>PetClinic</CODE> charging an <CODE>Owner</CODE> after working with their <CODE>Pet</CODE>.</p><br /><br /><PRE><br />public class PetClinic {<br />  public void charge(Pet pet) {<br />    Owner owner = pet.getOwner();<br />    owner.sendInvoice("100 USD");<br /><br />    //perform other "clinic" paperwork<br />  }<br />}<br /></PRE><br /><br /><p>Notice how the <CODE>charge</CODE> method takes the <CODE>Pet</CODE> as a parameter, except it is only used to navigate it's object graph to another object? The <CODE>charge</CODE>  method is using an initial object (<i>aka: next door neighbor</i>) just to talk to another object (<i>aka: neighbor down the street</i>).  This example is very simplistic, and although it seems very obvious, this antipattern can be found <i>everywhere</i>.</p><br /><br /><p>How do you avoid this antipattern?  Simple.  If the only reason you're using a object is to extract data from it, you should depend only on the referenced data and avoid coupling to the initial object.  Now, our <code>PetClinic</code> looks like this:</p><br /><br /><PRE><br />public class PetClinic {<br />  public void charge(Owner owner) {<br />    owner.sendInvoice("100 USD");<br /><br />    //perform other "clinic" paperwork<br />  }<br />}<br /></PRE><br /><br /><p>Sure, this an ultra simplified example, but notice how the <code>PetClinic</code> is no longer coupled to the <code>Pet</code> class.  Less coupling is a good thing!</p><br /><br /><p>I'm sure someone will have some comments on the <CODE>DataObject</CODE> pattern to refute this one.  Since <code>DataObjects</code> are essentially <b><i>bags of data with no behavior</i></b>, I'd argue that the <code>DataObject</code> pattern is also an antipattern (although sometimes necessary).</p><br /><br /><!-- technorati tags begin --><p style="font-size:10px;text-align:right;">technorati tags:<a href="http://technorati.com/tag/java" rel="tag">java</a>, <a href="http://technorati.com/tag/antipattern" rel="tag">antipattern</a></p><!-- technorati tags end --></div>
