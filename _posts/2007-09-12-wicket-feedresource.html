---
layout: post
title: "Wicket FeedResource"
date: 2007-09-12
comments: false
categories:
 - java
 - wicket
---

<div class='post'>
<p>Just when I think I'm a Wicket guru, I discover a new layer to this pretty amazing framework.</p><br /><br /><p>One of <a href="http://www.jroller.com/wireframe/entry/from_components_to_behaviors">my previous posts</a>, I mentioned that the three key concepts for working with Wicket were <code>Component</code>s, <code>Model</code>s, and <code>Behavior</code>s.&nbsp; Well, it looks like I'm going to add <code>Resource</code>s to that list as well.&nbsp; I started uncovering the Wicket <code>Resource</code> after finishing up my <a href="http://www.jroller.com/wireframe/entry/wicket_and_rss_feeds">Wicket <code>FeedPage</code> contribution</a>.&nbsp; I got some excellent feedback and was advised <a href="http://www.jroller.com/wireframe/entry/wicket_feedpage">to use a <code>Resource</code> instead of a <code>WebPage</code></a>.</p><br /><br /><p>What's the difference between a <code>Resource</code> and a <code>WebPage</code>?&nbsp; They both can serve HTML/XML content, but a <code>Resource</code> <i>also</i> allows for serving up of arbitrary content (like download files). <code>Resource</code>s are more like lightweight version of <code>WebPage</code>s that are not versioned and do not allow <code>Component</code>s to be embedded into them.&nbsp; It definitely makes sense to me that a Feed would be considered a <code>Resource</code> for a <code>WebPage</code> instead of a standalone entity.</p><br /><br /><p>The API for creating a <code>FeedResource</code> is very similar to creating the <code>FeedPage</code>:</p><br /><pre><br />public class MyFeedResource extends FeedResource { <br />  protected SyndFeed getFeed() {<br />    //construct and return the feed as usual<br />&nbsp; <br />  }<br />}<br /></pre><br /><br /><p>Where things start to get interesting is when you want to reference this <code>FeedResource</code> from within your application.&nbsp; You can't construct a link to a <code>Resource</code> in the same way as to a <code>WebPage</code>, you'll need to create a <code>ResourceReference</code> to indirectly talk to the <code>Resource</code> instead.&nbsp; <code>ResourceReference</code>s are pretty cryptic, but I've had some pointers from the Wicket Developers, so hopefully I'm on the right track.</p><br /><br /><p>Constructing a URL to the <code>FeedResource</code> is particularly important if you want browser's to automatically detect your feed and display their fancy RSS icon.  The simplest way to construct this autodiscovery link the <code>FeedResource.autodiscoveryLink()</code> API which will automatically insert the browser autodiscovery link into the HTML head.</p><br /><br /><pre><br />public class MyPage extends WebPage {<br />  public MyPage() {<br />    add(FeedResource.autodiscoveryLink(new ResourceReference("myFeed") {<br />      protected Resource newResource() {<br />        return new MyFeedResource();<br />      }<br />    }));<br />  }<br />}<br /></pre><br /><br /><p>This is a pretty simple example, and there are a <i>number</i> of different ways to use <code>ResourceReference</code>s, so don't take this as the <i>only</i> way to create the autodiscovery link.</p><br /><br /><p>Download the latest version and give it a spin!&nbsp; Let me know if there are any other suggestions to make this the <b>best RSS integration for any Java web framework!</b></p></div>
