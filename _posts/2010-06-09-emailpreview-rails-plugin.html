---
layout: post
title: "email_preview Rails Plugin"
date: 2010-06-09
comments: false
categories:
 - ruby
 - email_preview
 - rails
---

<div class='post'>
<img src="http://farm3.static.flickr.com/2403/2207568967_010eaaa06a.jpg" /><br /><br />As a developer, working with email pretty much sucks.  Crafting emails is a time consuming task where you constantly refine and tweak markup to get the <strong>perfect</strong> layout for your message.  Heck, it's easier to do cross browser testing of your application for IE6!<br /><br />The email_preview engine is a new Rails 3 plugin I've released to help developers build kick ass emails for your Rails 3 app.  It provides a quick and easy way to preview sample emails from within your web browser and see how they will look in the end user's email client.<br /><br />The developer API is extremely simple.  You can use the standard Rails ActionMailer interface to configure each instance, or manually configure each email using the excellent <a href="http://github.com/mikel/mail">mail library</a>.<br /><br />#config/email_preview.rb<br /><pre>EmailPreview.register 'user activation email' do<br />  u = User.new :email => 'foo@example.com'<br />  UserNotifier.activation<br />end<br /><br />EmailPreview.register 'simple example email' do<br />  Mail.new do<br />    to 'tom@example.com'<br />    from 'me@foo.com'<br />    body 'check this out'<br />  end<br />end<br /><br />EmailPreview.register 'multipart email (html + text)' do<br />  Mail.new do<br />    from 'mikel@test.lindsaar.net'<br />    to 'you@test.lindsaar.net'<br />    subject 'This is a test email'<br /><br />    text_part do<br />      body 'This is plain text'<br />    end<br />    html_part do<br />      content_type 'text/html; charset=UTF-8'<br />      body '&lt;h1&gt;This is HTML&lt;/h1&gt;'<br />    end<br />  end<br />end<br /></pre><br />Once you've configuring your sample emails, startup your Rails 3 application and preview them in any web browser at <a href="http://localhost:3000/email_preview">http://localhost:3000/email_preview</a>.  All email templates are re-rendered with each request so you can tweak/save/refresh to instantly preview how your emails will look for your users.  Talk about quick turnaround time!<br /><br />Need more assurance that your emails will look correct?  If your dev environment is configured to send emails, you can send any of your email previews to your inbox by filling out the convenient form at the top of each page.<br /><br />This plugin is 100% opensource and the code is available on github at <a href="http://github.com/wireframe/email_preview">http://github.com/wireframe/email_preview</a>.  Patches are *always* welcome, and if you have any questions or suggestions, please drop me a line.</div>
