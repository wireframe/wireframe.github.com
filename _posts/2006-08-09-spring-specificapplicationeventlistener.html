---
layout: post
title: "Spring SpecificApplicationEventListener"
date: 2006-08-09
comments: false
categories:
 - java
 - spring
 - springrcp
---

<div class='post'>
<p>I often hear complaints from users of the <a href="http://www.springframework.org/docs/reference/beans.html#context-functionality-events">springframework event listener API</a>.  It seems that the vast majority of user's end up littering their code with <strong>instanceof</strong> checks to only perform work for specific events.  Something like this:</p><br /><br /><pre><br />public class MyObject implements ApplicationListener &#123;<br />  public void onApplicationEvent(ApplicationEvent event) &#123;<br />    if (event instanceof MyEvent) &#123;<br />      //do stuff<br />    &#125;<br />  &#125;<br />&#125;<br /></pre><br /><br /><p>Well, here's a simple little solution that should take all that pain away.</p><br /><br /><pre><br />public abstract class AbstractSpecificApplicationEventListener implements ApplicationListener &#123;<br />  private final Class targetClass;<br /><br />  public AbstractSpecificApplicationEventListener(Class targetClass) &#123;<br />    this.targetClass = targetClass;<br />  &#125;<br /><br />  protected abstract void onSpecificApplicationEvent(ApplicationEvent event);<br /><br />  public void onApplicationEvent(ApplicationEvent event) &#123;<br />    if (event.getClass().isAssignableFrom(targetClass)) &#123;<br />      onSpecificApplicationEvent(event);<br />    &#125;<br />  &#125;<br />&#125;<br /></pre><br /><br /><p>All you need to do now is extend this class, and implement the method you want to do the work.  Quite a bit cleaner!</p><br /><br /><pre><br />public class MyObject extends AbstractSpecificApplicationEventListener &#123;<br /><br />  public MyObject() &#123;<br />    super(MyEvent.class);<br />  &#125;<br /><br />  protected void onSpecificApplicationEvent(ApplicationEvent event) &#123;<br />    //do stuff<br />  &#125;<br />&#125;<br /></pre><br /><br /><!-- technorati tags begin --><br /><p style="font-size: 10px; text-align: right;">technorati tags: <br /><a href="http://technorati.com/tag/java" rel="tag">java</a>, <br /><a href="http://technorati.com/tag/spring" rel="tag">spring</a><br /></p><br /><!-- technorati tags end --></div>
