---
layout: post
title: "Is It REALLY Empty?"
date: 2006-07-19
comments: false
categories:
 - jsp
---

<div class='post'>
<p>JSP is so damn ghetto.</p><br /><br /><p>Who would have thought that JSP is so incredibly incompetent that it can screw up one of the easiest operations?  All I want to do is determine whether or not a collection is empty.  Simple right?  Well, obviously this is something too complex to be addressed by JSP.</p><br /><br /><p>So, here's my super simple usecase that <strong>actually</strong> works.  The JSP is pretty straight forward.</p><br /><pre><br />&lt;c:if test="${not empty myObject.entries}"&gt;<br />  The Collection is Not Empty!  The world is coming to an end!<br />&lt;/c:if&gt;<br /></pre><br /><br /><p>And there's nothing special about my object.</p><br /><pre><br />public class MyObject {<br />  private Collection entries = new ArrayList();<br /><br />  public Collection getEntries() {<br />    return entries;<br />  }<br />}<br /></pre><br /><br /><p>Now, guess what happens when I want my entries to ensure only one entry is added.  You'd expect to change the colleciton from an <code>ArrayList</code> to a <code>HashSet</code>, and you'd be good to go right?  Well, you'd be dead wrong.</p><br /><pre><br />public class MyObject {<br />  private Collection entries = new HashSet();<br /><br />  public Collection getEntries() {<br />    return entries;<br />  }<br />}<br /></pre><br /><br /><p>For some unknown reason, JSTL can not work with sets to determine empty collections.  <code>List</code>s are fine, and even <code>Map</code>s are supported, but not <code>Sets</code>.  Way to go JSTL.  You've proven yet again that JSP is worthless.</p><br /><br /><p>Luckily, I stumbled across <a href="http://weblogs.java.net/blog/mister__m/archive/2003/11/crazy_jstl_when.html">this blog that verifies my problem</a>, so I didn't spend all day digging into this.</p><br /><br /><br /><!-- technorati tags begin --><br /><p style="font-size: 10px; text-align: right;">technorati tags: <br /><a href="http://technorati.com/tag/java" rel="tag">java</a>, <br /><a href="http://technorati.com/tag/ruby" rel="tag">jsp</a><br /></p><br /><!-- technorati tags end --></div>
