---
layout: post
title: "Running Code Doesn't Lie"
date: 2006-04-25
comments: false
categories:
 - java
 - documentation
 - testing
---

<div class='post'>
<p>My reading group recently finished <a href="http://www.oreilly.com/catalog/hfdesignpat/">Head First Design Patterns</a> and is now diving into <a href="http://domaindrivendesign.org/book/">Domain-Driven Design</a>.&nbsp; So far, it has really opened my eyes to a new approach to software development.&nbsp; I'm not going to review the book here, but there's one statement that really caught my eye.</p><br /><br /><p><i><b>Running code doesn't lie.</b></i></p><br /><br /><p>This statement pretty much sums up why agile software development practices like <a href="http://www.extremeprogramming.org/">eXtreme Programming</a> and <a href="https://gettingreal.37signals.com/">Getting Real</a> are so powerful.&nbsp; Instead of business analysts or programmers writing pages of documentation for what they <i>think </i>the system does, the system <i>tells </i>you what it does.&nbsp; I like to call this a <i>Self Describing System</i>.</p><br /><br /><p>The cost of maintaining two sources of documentation is just too high.&nbsp; Eventually one or the other will fall out of synch and become irrelevant (even dangerous).&nbsp; The code is the only <i>true </i>source for understanding how a system works.&nbsp; Now, I don't expect everyone to go to the code to understand how a system works, and I'd be the last person to allow business people to start digging around in <i>my</i> source code.&nbsp; Instead, I am advocating that the codebase be the definitive source for relevant documentation.&nbsp; </p><br /><br /><p>There are a number of tools out there than can give insight into code <a href="http://checkstyle.sourceforge.net/">quality</a> or <a href="http://pmd.sourceforge.net/">system metrics</a>, but most of these tools are far too technical and completely meaningless to a business person.&nbsp; But, there are tools out there that can give important <i>contextual</i> information for anyone to understand.&nbsp; <a href="http://agiledox.sourceforge.net/">TestDox </a>is one of these tools, and it has really driven me to look into this area more.</p><br /><br /><p>TestDox generates reports describing a system's features using unit tests as it's source.&nbsp; This may sound like a simple feature, but I find it incredibly powerful.&nbsp; Take the following unit test:</p><br /><br /><pre><br />public class DogTest extends TestCase &#123;<br />    public void testDogWalksWhenYouKickIt() &#123;<br />      Dog dog = new Dog();<br />      Person me = new Person();<br />      me.kick(dog);<br /><br />      assertTrue(dog.isWalking());<br />    &#125;<br />    public void testDogBarksWhenSitsDown() &#123;<br />      Dog dog = new Dog();<br />      dog.sit();<br /><br />      assertTrue(dog.didBark());<br />    &#125;<br />&#125;<br /></pre>                       <br /><br /><p>would generate the following:</p><br /><br /><pre><br />Dog<br />- dog walks when you kick it<br />- dog barks when sits down<br /></pre><br /><br /><p>There you have it!&nbsp; A <i>Self Describing System </i>for free!&nbsp; No additional documents.&nbsp; No extra frameworks or meta programming.&nbsp; Just straight up unit tests and a simple report generator.&nbsp; </p><br /><br /><p>I'd love to see more work done to improve this.&nbsp; First of all, the reports could use a *lot* of prettying up.&nbsp; A <a href="http://maven.apache.org">maven2 plugin</a> would be great as well.&nbsp; The source for this project is not too complex, so I might have to roll up my sleeves and try to make some improvements myself.&nbsp; </p></div>
